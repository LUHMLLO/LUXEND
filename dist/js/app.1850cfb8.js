(function(e){function t(t){for(var i,r,o=t[0],c=t[1],l=t[2],h=0,p=[];h<o.length;h++)r=o[h],Object.prototype.hasOwnProperty.call(n,r)&&n[r]&&p.push(n[r][0]),n[r]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(e[i]=c[i]);d&&d(t);while(p.length)p.shift()();return a.push.apply(a,l||[]),s()}function s(){for(var e,t=0;t<a.length;t++){for(var s=a[t],i=!0,o=1;o<s.length;o++){var c=s[o];0!==n[c]&&(i=!1)}i&&(a.splice(t--,1),e=r(r.s=s[0]))}return e}var i={},n={app:0},a=[];function r(t){if(i[t])return i[t].exports;var s=i[t]={i:t,l:!1,exports:{}};return e[t].call(s.exports,s,s.exports,r),s.l=!0,s.exports}r.m=e,r.c=i,r.d=function(e,t,s){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(r.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(s,i,function(t){return e[t]}.bind(null,i));return s},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=t,o=o.slice();for(var l=0;l<o.length;l++)t(o[l]);var d=c;a.push([0,"chunk-vendors"]),s()})({0:function(e,t,s){e.exports=s("56d7")},"56d7":function(e,t,s){"use strict";s.r(t);var i=s("2b0e"),n=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"w-100 vh:h-1000 overflow-hidden d-flex justify-center flex-column",class:[e.theme.background.primary,e.theme.color.primary],attrs:{id:"app"}},[s("div",{staticClass:"d-flex overflow-hidden flex-grow-0 h-100"},[s("div",{staticClass:"w-15 p-16 overflow-hidden overflow-y-scroll scrollbar-none"},[s("ul",{staticClass:"w-100 d-flex flex-column p-16 mb-16",class:[e.theme.background.faded]},e._l(e.model_children,(function(t){return s("li",{key:t.index,staticClass:"d-flex m-0 p-16"},[s("span",{staticClass:"cursor-pointer d-block uppercase m-auto ml-0 w-100",on:{pointerdown:function(s){return e.setActiveOption(t)}}},[e._v(" "+e._s(t.childID)+" ")])])})),0),s("ul",{staticClass:"w-100 d-flex flex-column p-16 mb-16",class:[e.theme.background.faded]},e._l(e.material_textures,(function(t){return s("li",{key:t.index,staticClass:"d-flex m-0 p-16"},[s("span",{staticClass:"cursor-pointer d-block uppercase m-auto ml-0 w-100 bg-red p-16",style:[{background:"url("+t.texture+")"}],on:{pointerdown:function(s){return e.setTexture(t)}}})])})),0),s("ul",{staticClass:"w-100 d-flex flex-column p-16 mb-16",class:[e.theme.background.faded]},e._l(e.material_colors,(function(t){return s("li",{key:t.index,staticClass:"d-flex m-0 p-16"},[s("span",{staticClass:"cursor-pointer d-block uppercase m-auto ml-0 w-100 bg-red p-16",style:[{background:"#"+t.color}],on:{pointerdown:function(s){return e.setColor(t)}}})])})),0)]),s("div",{staticClass:"w-80 h-100 p-16"},[s("div",{staticClass:"w-100 h-100",class:[e.theme.background.faded],attrs:{id:"customizer-wrapper"}},[s("canvas",{staticClass:"w-100 h-100",attrs:{id:"customizer-canvas"}})])])])])},a=[],r=s("5a89"),o=s("4721"),c=s("34ad"),l=s("32d9"),d=s("93e9"),h=s("4e15"),p=s("360d"),u=s("f7dd"),m=s("6c18"),w=s("3934"),f=s("9ab2"),b={name:"App",data(){return{canvas_wrapper:null,canvas:null,scene:null,renderer:null,camera:null,controls:null,dirLight:null,spotLight:null,composer:null,outlinePass:null,intersects:null,obj:null,selectedObject:null,isZoomed:!1,material_textures:[{texture:"/assets/textures/tim-mossholder-V6KKk5LCfI0-unsplash.jpg",size:[3,3,3],shininess:0},{texture:"/assets/textures/diego-passadori-e6frrz-kh-0-unsplash.jpg",size:[3,3,3],shininess:0},{texture:"/assets/textures/04.jpg",size:[3,3,3],shininess:0},{texture:"/assets/textures/05.jpg",size:[3,3,3],shininess:0},{texture:"/assets/textures/06.jpg",size:[4,4,4],shininess:0}],material_colors:[{color:"F44336"},{color:"e91e63"},{color:"9c27b0"},{color:"673ab7"},{color:"3f51b5"},{color:"2196F3"},{color:"03a9f4"},{color:"00bcd4"},{color:"009688"},{color:"4CAF50"},{color:"8bc34a"},{color:"cddc39"},{color:"ffeb3b"},{color:"ffc107"},{color:"ff9800"},{color:"ff5722"},{color:"795548"},{color:"607d8b"},{color:"9e9e9e"},{color:"FFFFFF"},{color:"000000"}],modelpath:null,model:null,model_children:[],activeOption:""}},created(){window.addEventListener("resize",this.onWindowsResize)},async mounted(){await this.getModelsFromWordpress(),this.createInstance()},destroyed(){window.removeEventListener("resize",this.onWindowsResize),window.location.reload()},computed:{DevicePixelRatio_G(){let e=1;return void 0!==window.screen.systemXDPI&&void 0!==window.screen.logicalXDPI&&window.screen.systemXDPI>window.screen.logicalXDPI&&(e=window.screen.systemXDPI/window.screen.logicalXDPI),void 0!==window.devicePixelRatio&&(e=window.devicePixelRatio),e}},methods:{getModelsFromWordpress:async function(){await this.$axios.get("http://www.luxend.net/wp-json/wp/v2/modelos").then(e=>{console.log(e.data[0].acf.onlyfortesturl),this.modelpath=e.data[0].acf.onlyfortesturl}).catch(console.log)},setCanvas:function(){this.canvas_wrapper=document.querySelector("#customizer-wrapper"),this.canvas=document.querySelector("#customizer-canvas")},setScene:function(){this.scene=new r["mb"],this.scene.background=new r["j"]("#c87c87")},setRender:function(){this.renderer=new r["Eb"]({canvas:this.canvas,powerPreference:"high-performance",antialias:!1,stencil:!1,depth:!1,alpha:!0}),this.renderer.setPixelRatio(this.DevicePixelRatio_G),this.renderer.setSize(this.canvas_wrapper.clientWidth,this.canvas_wrapper.clientHeight),this.renderer.outputEncoding=r["Fb"],this.renderer.toneMapping=r["kb"],this.renderer.toneMappingExposure=1.5,this.renderer.shadowMap.enabled=!0,this.renderer.shadowMap.type=r["Y"],this.renderer.autoClear=!1,this.canvas_wrapper.appendChild(this.renderer.domElement)},setCamera:function(){this.camera=new r["Z"](70,window.innerWidth/window.innerHeight,1,25)},setControls:function(){this.controls=new o["a"](this.camera,this.renderer.domElement),this.controls.enableRotate=!0,this.controls.enableZoom=!1,this.controls.enablePan=!1,this.controls.enableDamping=!0,this.controls.minPolarAngle=Math.PI/5,this.controls.maxPolarAngle=Math.PI/2,this.controls.maxAzimuthAngle=.3*Math.PI,this.controls.minAzimuthAngle=.3*-Math.PI,this.controls.minDistance=1.6,this.controls.maxDistance=3},setLights:function(){this.scene.add(new r["q"](5533306,5533306,1.25)),this.dirLight=new r["k"](13621468,1.75),this.dirLight.position.set(-10,10,15),this.dirLight.castShadow=!0,this.dirLight.shadow.bias=-1e-4,this.dirLight.shadow.mapSize.width=4096,this.dirLight.shadow.mapSize.height=4096,this.scene.add(this.dirLight)},setPostProcessing:function(){this.composer=new l["a"](this.renderer),this.composer.addPass(new d["a"](this.scene,this.camera)),this.outlinePass=new h["a"](new r["Ab"](this.canvas_wrapper.clientWidth,this.canvas_wrapper.clientHeight),this.scene,this.camera),this.outlinePass.visibleEdgeColor.set("#000000"),this.outlinePass.hiddenEdgeColor.set("#000000"),this.outlinePass.edgeStrength=5,this.outlinePass.edgeGlow=5,this.outlinePass.edgeThickness=5,this.outlinePass.pulsePeriod=5,this.outlinePass.renderToScreen=!0,this.composer.addPass(this.outlinePass);const e=new p["a"](m["a"]);e.uniforms["resolution"].value.x=1/(this.canvas_wrapper.clientWidth*this.DevicePixelRatio_G),e.uniforms["resolution"].value.y=1/(this.canvas_wrapper.clientHeight*this.DevicePixelRatio_G),e.renderToScreen=!0,this.composer.addPass(e);const t=new u["a"](this.canvas_wrapper.clientWidth,this.canvas_wrapper.clientHeight);t.renderToScreen=!0,this.composer.addPass(t);const s=new f["a"](new r["Ab"](this.canvas_wrapper.clientWidth,this.canvas_wrapper.clientHeight),.1,0,0);s.renderToScreen=!0,this.composer.addPass(s),this.composer.addPass(new p["a"](w["a"]))},setModel:function(){let e=this;const t=new c["a"];t.load(this.modelpath,(function(t){function s(e,t,s){e.traverse(e=>{e.isMesh&&e.name.includes(t)&&(e.material=s,e.nameID=t)})}e.model=t.scene,e.centerModel(e.model),e.model.traverse(e=>{e.isMesh&&(e.castShadow=!0,e.receiveShadow=!0,e.material.map&&(e.material.map.anisotropy=16))}),e.model.traverse(t=>{switch(t.name){case"Scene":break;case"":break;case null:break;case"SketchUp":break;case"skp_camera_Last_Saved_SketchUp_View":break;case"skp_camera_Scene_1":break;case"skp_camera_Scene_2":break;default:e.model_children.push({childID:t.name,mtl:new r["P"]({color:16316664}),children:t.children})}});for(let i of e.model_children)s(e.model,i.childID,i.mtl);e.scene.add(e.model)}),void 0,(function(e){console.error(e)}))},animate:function(){requestAnimationFrame(this.animate),this.renderer.clear(),this.composer.render(),this.composer.render(),this.controls.update()},onWindowsResize:function(){this.camera.aspect=this.canvas_wrapper.clientWidth/this.canvas_wrapper.clientHeight,this.camera.updateProjectionMatrix(),this.renderer.setSize(this.canvas_wrapper.clientWidth,this.canvas_wrapper.clientHeight),this.composer.setSize(this.canvas_wrapper.clientWidth,this.canvas_wrapper.clientHeight)},createInstance:async function(){await this.setCanvas(),await this.setScene(),await this.setRender(),await this.setCamera(),await this.setControls(),await this.setLights(),await this.setPostProcessing(),await this.setModel(),this.animate()},centerModel:function(e){e.updateMatrixWorld();const t=new r["Bb"],s=(new r["d"]).setFromObject(e),i=s.getSize().length();s.getCenter(t),e.position.x+=e.position.x-t.x,e.position.y+=e.position.y-t.y,e.position.z+=e.position.z-t.z,e.rotation.y=Math.PI,this.camera.position.copy(t),this.camera.position.x+=0,this.camera.position.y+=i/10,this.camera.position.z+=i,this.camera.updateProjectionMatrix(),this.camera.lookAt(t)},setActiveOption:function(e){this.activeOption=e.childID,this.zoomToSelectedObject(e)},setTexture:function(e){let t=(new r["wb"]).load(e.texture);t.repeat.set(e.size[0],e.size[1],e.size[2]),t.wrapS=r["lb"],t.wrapT=r["lb"],t.encoding=r["Fb"];const s=new r["N"]({map:t,shininess:10});this.model.traverse(e=>{e.isMesh&&null!=e.nameID&&e.nameID==this.activeOption&&(e.material=s)})},setColor:function(e){const t=new r["N"]({color:parseInt("0x"+e.color),shininess:10});t.encoding=r["Fb"],this.model.traverse(e=>{e.isMesh&&null!=e.nameID&&e.nameID==this.activeOption&&(e.material=t)})},zoomToSelectedObject:function(e,t=2){this.model.traverse(s=>{if(s.isMesh&&s.name.includes(e.childID)){this.outlinePass.selectObject=s;const e=new r["d"];e.expandByObject(s);const i=e.getSize(new r["Bb"]),n=e.getCenter(new r["Bb"]),a=Math.max(i.x,i.y,i.z),o=a/(2*Math.atan(Math.PI*this.camera.fov/360)),c=o/this.camera.aspect,l=t*Math.max(o,c),d=this.controls.target.clone().sub(this.camera.position).normalize().multiplyScalar(l);this.controls.maxDistance=0*l,this.controls.target.copy(n),this.camera.near=l/100,this.camera.far=100*l,this.camera.updateProjectionMatrix(),this.camera.position.copy(this.controls.target).sub(d),this.controls.update()}})}}},g=b,v=s("2877"),x=Object(v["a"])(g,n,a,!1,null,null,null),y=x.exports,_=s("2f62");i["a"].use(_["a"]);var P=new _["a"].Store({state:{},mutations:{},actions:{},modules:{}}),k=s("bc3a"),z=s.n(k);i["a"].mixin({data(){return{theme_dark:{color:{primary:"color-baby-powder",secondary:"color-grey-darken-3",faded:"color-blue-darken-3"},background:{primary:"bg-dark-powder",secondary:"bg-graphite",faded:"bg-white-fade-1"}}}},computed:{theme(){return this.theme_dark}}}),i["a"].prototype.$axios=z.a,i["a"].config.productionTip=!1,new i["a"]({store:P,render:e=>e(y)}).$mount("#app")}});
//# sourceMappingURL=app.1850cfb8.js.map